<h1 *ngIf="tableView">Daily Reports</h1>

<table *ngIf="tableView" class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Date</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let report of reports">
      <td
        (click)="
          displayReport(report);
          ShowImagesByReport(report);
          ShowFoodByReport(report);
          ShowMoodByReport(report);
          ShowNapByReport(report);
          ShowBathroomByReport(report)
        "
      >
        {{ report.reportDate | date: "longDate" }}
      </td>
      <td>{{ report.notes }}</td>
    </tr>
  </tbody>
</table>
<button *ngIf="tableView" class="btn btn-secondary">Back to home</button>

<div *ngIf="selected && reportView">
  <h1>{{selected.kid?.firstName}}'s {{ selected.reportDate | date: "longDate" }} Daily Report</h1>
  Checked in at: {{ selected.timeIn | date: "shortTime" }}<br>
  Checked out at: {{ selected.timeOut | date: "shortTime" }}<br>
  Diaper inventory: <span *ngIf="selected.diapersLow;else diapersFull"><font color="red">Low</font><br></span>
                   <ng-template #diapersFull>Full<br></ng-template>
  Wipes inventory: <span *ngIf="selected.wipesLow;else wipesFull"><font color="red">Low</font><br></span>
                   <ng-template #wipesFull>Full<br></ng-template>
  Daily activities: {{ selected.activities }}<br>
  Caretaker notes: {{ selected.notes }}<br>
  Nap Time:
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Started Nap</th>
        <th>Woke Up</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>{{nap.timeStart | date: "shortTime"}}</td>
        <td>{{nap.timeFinish | date: "shortTime"}}</td>
      </tr>
    </tbody>
  </table>
  Child's moods: <br>
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Mood</th>
        <th>Time</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let mood of moods">
        <td>{{mood.mood.description}}</td>
        <td>{{mood.enteredAt | date: "shortTime"}}</td>
      </tr>
    </tbody>
  </table>
  Food:
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Meal Time</th>
        <th>Food Eaten</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let meal of food">
        <td>{{meal.foodType.name}}</td>
        <td>{{meal.description}}</td>
      </tr>
    </tbody>
  </table>
  Bathroom:
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Time</th>
        <th>Type</th>
        <th>Staff</th>
        <th>Notes</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let bathroom of bathrooms">
        <td>{{ bathroom.bathroomTime| date: "shortTime" }}</td>
        <td>{{ bathroom.type.status }}</td>
        <td>{{ bathroom.staff.firstName }}</td>
        <td>{{ bathroom.description }}</td>
      </tr>
    </tbody>
  </table>
  Images: <br>
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Image</th>
        <th>Staff</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let image of images">
        <td><img src="{{ image.imageUrl }}" /></td>
        <td *ngIf="image.staff">{{ image.staff.firstName }} {{ image.createdAt | date: "shortTime" }}</td>
      </tr>
    </tbody>
  </table>
  <button (click)="displayTable()" class="btn btn-secondary">
    Back to list
  </button>
</div>
